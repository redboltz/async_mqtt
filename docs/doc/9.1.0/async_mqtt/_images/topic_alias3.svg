<svg width="3414" height="2435" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" overflow="hidden"><g transform="translate(-655 -22)"><rect x="1024.5" y="28.5" width="326" height="123" stroke="#000000" stroke-width="3.4375" stroke-linejoin="round" stroke-miterlimit="10" fill="none"/><text font-family="MS Gothic,MS Gothic_MSFontService,sans-serif" font-weight="400" font-size="73" transform="matrix(1 0 0 1 1057.38 121)">client1</text><path d="M1187 151 1187 2453.63" stroke="#000000" stroke-width="2.29167" stroke-miterlimit="8" fill="none" fill-rule="evenodd"/><rect x="3404.5" y="28.5" width="289" height="123" stroke="#000000" stroke-width="3.4375" stroke-linejoin="round" stroke-miterlimit="10" fill="none"/><text font-family="MS Gothic,MS Gothic_MSFontService,sans-serif" font-weight="400" font-size="73" transform="matrix(1 0 0 1 3437.45 121)">broker</text><path d="M3549 151 3549 2453.63" stroke="#000000" stroke-width="2.29167" stroke-miterlimit="8" fill="none" fill-rule="evenodd"/><path d="M1187 729.854 3548.65 729.855 3548.65 732.146 1187 732.146ZM3507.93 707.082 3550.99 731.001 3507.93 754.919C3507.38 755.226 3506.68 755.027 3506.37 754.474 3506.07 753.92 3506.27 753.223 3506.82 752.916L3548.07 729.999 3548.07 732.002 3506.82 709.086C3506.27 708.778 3506.07 708.081 3506.37 707.527 3506.68 706.974 3507.38 706.775 3507.93 707.082Z"/><text font-family="MS Gothic,MS Gothic_MSFontService,sans-serif" font-weight="400" font-size="73" transform="matrix(1 0 0 1 1793.65 701)">PUBLISH TopicName:"topic1", TopicAlias:1</text><path d="M1343.5 595.5 1688.5 595.5 1688.5 700.5 1667.5 721.5 1343.5 721.5Z" fill="#FFE699" fill-rule="evenodd"/><path d="M1667.5 721.5 1671.7 704.7 1688.5 700.5Z" fill="#CDB97B" fill-rule="evenodd"/><path d="M1667.5 721.5 1671.7 704.7 1688.5 700.5 1667.5 721.5 1343.5 721.5 1343.5 595.5 1688.5 595.5 1688.5 700.5" stroke="#172C51" stroke-width="4.58333" stroke-miterlimit="8" fill="none" fill-rule="evenodd"/><text font-family="MS Gothic,MS Gothic_MSFontService,sans-serif" font-weight="400" font-size="55" transform="matrix(1 0 0 1 1405.71 666)">Register</text><path d="M0.00203823-1.14583 2361.54 3.05493 2361.53 5.34659-0.00203823 1.14583ZM2320.98-19.7897 2363.99 4.20512 2320.89 28.0468C2320.34 28.3531 2319.64 28.1526 2319.33 27.5989 2319.03 27.0451 2319.23 26.3479 2319.78 26.0415L2361.07 3.19829 2361.07 5.20157 2319.86-17.7884C2319.31-18.0968 2319.11-18.7947 2319.42-19.3473 2319.72-19.9 2320.42-20.098 2320.98-19.7897Z" transform="matrix(1 0 0 -1 1187 915.205)"/><text font-family="MS Gothic,MS Gothic_MSFontService,sans-serif" font-weight="400" font-size="73" transform="matrix(1 0 0 1 1793.65 869)">PUBLISH </text><text fill="#0000FF" font-family="MS Gothic,MS Gothic_MSFontService,sans-serif" font-weight="400" font-size="73" transform="matrix(1 0 0 1 2086.99 869)">TopicName</text><text fill="#0000FF" font-family="MS Gothic,MS Gothic_MSFontService,sans-serif" font-weight="400" font-size="73" transform="matrix(1 0 0 1 2416.99 869)">:"", QoS:1, TopicAlias:1</text><path d="M1332.5 760.5 1679.5 760.5 1679.5 864.666 1658.67 885.5 1332.5 885.5Z" fill="#FFE699" fill-rule="evenodd"/><path d="M1658.67 885.5 1662.83 868.833 1679.5 864.666Z" fill="#CDB97B" fill-rule="evenodd"/><path d="M1658.67 885.5 1662.83 868.833 1679.5 864.666 1658.67 885.5 1332.5 885.5 1332.5 760.5 1679.5 760.5 1679.5 864.666" stroke="#172C51" stroke-width="4.58333" stroke-miterlimit="8" fill="none" fill-rule="evenodd"/><text font-family="MS Gothic,MS Gothic_MSFontService,sans-serif" font-weight="400" font-size="55" transform="matrix(1 0 0 1 1463.86 831)">Use</text><text font-family="MS Gothic,MS Gothic_MSFontService,sans-serif" font-weight="400" font-size="73" transform="matrix(1 0 0 1 1306.94 258)">CONNECT TopicAliasMaximum:10, </text><text fill="#0000FF" font-family="MS Gothic,MS Gothic_MSFontService,sans-serif" font-weight="400" font-size="73" transform="matrix(1 0 0 1 1600.27 346)">SessionExpiryInterval:0xffffffff(infinity)</text><path d="M1.75251e-07-1.14583 2357.27-1.14547 2357.27 1.14619-1.75251e-07 1.14583ZM2316.55-23.918 2359.6 0.000360813 2316.55 23.9187C2316 24.226 2315.3 24.0267 2314.99 23.4735 2314.68 22.9203 2314.88 22.2227 2315.44 21.9154L2356.69-1.00128 2356.69 1.002 2315.44-21.9147C2314.88-22.222 2314.68-22.9196 2314.99-23.4728 2315.3-24.026 2316-24.2253 2316.55-23.918Z" transform="matrix(-1 0 0 1 3546.6 538)"/><text font-family="MS Gothic,MS Gothic_MSFontService,sans-serif" font-weight="400" font-size="73" transform="matrix(1 0 0 1 1306.94 511)">CONNACK TopicAliasMaximum:20, SessionPresent:0</text><path d="M1187 369.854 3544.27 369.854 3544.27 372.146 1187 372.146ZM3503.55 347.082 3546.6 371 3503.55 394.919C3503 395.226 3502.3 395.027 3501.99 394.473 3501.68 393.92 3501.88 393.223 3502.44 392.915L3543.69 369.999 3543.69 372.002 3502.44 349.085C3501.88 348.778 3501.68 348.08 3501.99 347.527 3502.3 346.974 3503 346.775 3503.55 347.082Z"/><rect x="1504.5" y="939.5" width="1740" height="284" stroke="#172C51" stroke-width="4.58333" stroke-miterlimit="8" fill="#F4B183"/><text font-family="MS Gothic,MS Gothic_MSFontService,sans-serif" font-weight="400" font-size="73" transform="matrix(1 0 0 1 1567.37 1069)">Connection closed before PUBACK is received, </text><text font-family="MS Gothic,MS Gothic_MSFontService,sans-serif" font-weight="400" font-size="73" transform="matrix(1 0 0 1 1640.71 1157)">but the session is keeping by the broker</text><text font-family="MS Gothic,MS Gothic_MSFontService,sans-serif" font-weight="400" font-size="73" transform="matrix(1 0 0 1 1306.94 1327)">CONNECT TopicAliasMaximum:10, </text><text fill="#0000FF" font-family="MS Gothic,MS Gothic_MSFontService,sans-serif" font-weight="400" font-size="73" transform="matrix(1 0 0 1 2406.94 1327)">CleanStart:0</text><text font-family="MS Gothic,MS Gothic_MSFontService,sans-serif" font-weight="400" font-size="73" transform="matrix(1 0 0 1 1600.27 1415)">SessionExpiryInterval:0xffffffff(infinity)</text><path d="M1.75251e-07-1.14583 2357.27-1.14547 2357.27 1.14619-1.75251e-07 1.14583ZM2316.55-23.918 2359.6 0.000360813 2316.55 23.9187C2316 24.226 2315.3 24.0267 2314.99 23.4735 2314.68 22.9203 2314.88 22.2227 2315.44 21.9154L2356.69-1.00128 2356.69 1.002 2315.44-21.9147C2314.88-22.222 2314.68-22.9196 2314.99-23.4728 2315.3-24.026 2316-24.2253 2316.55-23.918Z" transform="matrix(-1 0 0 1 3546.6 1557)"/><text font-family="MS Gothic,MS Gothic_MSFontService,sans-serif" font-weight="400" font-size="73" transform="matrix(1 0 0 1 1306.94 1527)">CONNACK TopicAliasMaximum:20, </text><text fill="#0000FF" font-family="MS Gothic,MS Gothic_MSFontService,sans-serif" font-weight="400" font-size="73" transform="matrix(1 0 0 1 2406.94 1527)">SessionPresent:1</text><path d="M1187 1433.85 3544.27 1433.85 3544.27 1436.15 1187 1436.15ZM3503.55 1411.08 3546.6 1435 3503.55 1458.92C3503 1459.23 3502.3 1459.03 3501.99 1458.47 3501.68 1457.92 3501.88 1457.22 3502.44 1456.92L3543.69 1434 3543.69 1436 3502.44 1413.09C3501.88 1412.78 3501.68 1412.08 3501.99 1411.53 3502.3 1410.97 3503 1410.77 3503.55 1411.08Z"/><path d="M0.00203823-1.14583 2361.54 3.05493 2361.53 5.34659-0.00203823 1.14583ZM2320.98-19.7897 2363.99 4.20512 2320.89 28.0468C2320.34 28.3531 2319.64 28.1526 2319.33 27.5989 2319.03 27.0451 2319.23 26.3479 2319.78 26.0415L2361.07 3.19829 2361.07 5.20157 2319.86-17.7884C2319.31-18.0968 2319.11-18.7947 2319.42-19.3473 2319.72-19.9 2320.42-20.098 2320.98-19.7897Z" transform="matrix(1 0 0 -1 1187 1860.21)"/><text font-family="MS Gothic,MS Gothic_MSFontService,sans-serif" font-weight="400" font-size="73" transform="matrix(1 0 0 1 1793.65 1814)">PUBLISH </text><text fill="#0000FF" font-family="MS Gothic,MS Gothic_MSFontService,sans-serif" font-weight="400" font-size="73" transform="matrix(1 0 0 1 2086.99 1814)">TopicName</text><text fill="#0000FF" font-family="MS Gothic,MS Gothic_MSFontService,sans-serif" font-weight="400" font-size="73" transform="matrix(1 0 0 1 2416.99 1814)">:"", QoS:1, TopicAlias:1</text><path d="M1332.5 1704.5 1679.5 1704.5 1679.5 1808.67 1658.67 1829.5 1332.5 1829.5Z" fill="#FFE699" fill-rule="evenodd"/><path d="M1658.67 1829.5 1662.83 1812.83 1679.5 1808.67Z" fill="#CDB97B" fill-rule="evenodd"/><path d="M1658.67 1829.5 1662.83 1812.83 1679.5 1808.67 1658.67 1829.5 1332.5 1829.5 1332.5 1704.5 1679.5 1704.5 1679.5 1808.67" stroke="#172C51" stroke-width="4.58333" stroke-miterlimit="8" fill="none" fill-rule="evenodd"/><text font-family="MS Gothic,MS Gothic_MSFontService,sans-serif" font-weight="400" font-size="55" transform="matrix(1 0 0 1 1463.86 1775)">Use</text><rect x="814.5" y="1890.5" width="3106" height="126" stroke="#172C51" stroke-width="4.58333" stroke-miterlimit="8" fill="#F4B183"/><text font-family="MS Gothic,MS Gothic_MSFontService,sans-serif" font-weight="400" font-size="73" transform="matrix(1 0 0 1 900.418 1985)">This is a protocol error because </text><text font-family="MS Gothic,MS Gothic_MSFontService,sans-serif" font-weight="400" font-size="73" transform="matrix(1 0 0 1 2110.42 1985)">TopicAlias</text><text font-family="MS Gothic,MS Gothic_MSFontService,sans-serif" font-weight="400" font-size="73" transform="matrix(1 0 0 1 2513.75 1985)">is not registered on this connection</text><rect x="814.5" y="2042.5" width="3106" height="126" stroke="#172C51" stroke-width="4.58333" stroke-miterlimit="8" fill="#F4B183"/><text font-family="MS Gothic,MS Gothic_MSFontService,sans-serif" font-weight="400" font-size="73" transform="matrix(1 0 0 1 955.418 2137)">If client1 doesnâ€™t resend the packet, it is QoS:1 (At least once) violation.</text><path d="M3270.5 1046.5 3476.5 1046.5 3476.5 1013.5 3542.5 1079.5 3476.5 1145.5 3476.5 1112.5 3270.5 1112.5Z" stroke="#172C51" stroke-width="4.58333" stroke-miterlimit="8" fill="#F4B183" fill-rule="evenodd"/><path d="M1465.5 1110.25 1260 1110.25 1260 1143.5 1193.5 1077 1260 1010.5 1260 1043.75 1465.5 1043.75Z" stroke="#172C51" stroke-width="4.58333" stroke-miterlimit="8" fill="#F4B183" fill-rule="evenodd"/><path d="M657.5 1750.17C657.5 1696.23 701.228 1652.5 755.17 1652.5L3968.83 1652.5C4022.77 1652.5 4066.5 1696.23 4066.5 1750.17L4066.5 2140.83C4066.5 2194.77 4022.77 2238.5 3968.83 2238.5L755.17 2238.5C701.228 2238.5 657.5 2194.77 657.5 2140.83Z" stroke="#FF0000" stroke-width="4.58333" stroke-miterlimit="8" fill="none" fill-rule="evenodd"/><text fill="#FF0000" font-family="MS Gothic,MS Gothic_MSFontService,sans-serif" font-weight="400" font-size="73" transform="matrix(1 0 0 1 732.032 1752)">Invalid</text><path d="M1187 2425.85 3548.65 2425.85 3548.65 2428.15 1187 2428.15ZM3507.93 2403.08 3550.99 2427 3507.93 2450.92C3507.38 2451.23 3506.68 2451.03 3506.37 2450.47 3506.07 2449.92 3506.27 2449.22 3506.82 2448.92L3548.07 2426 3548.07 2428 3506.82 2405.08C3506.27 2404.78 3506.07 2404.08 3506.37 2403.53 3506.68 2402.97 3507.38 2402.77 3507.93 2403.08Z"/><text font-family="MS Gothic,MS Gothic_MSFontService,sans-serif" font-weight="400" font-size="73" transform="matrix(1 0 0 1 2127.73 2397)">PUBLISH TopicName:"topic1", QoS:1</text><path d="M657.5 2296.17C657.5 2278.68 671.678 2264.5 689.167 2264.5L4034.83 2264.5C4052.32 2264.5 4066.5 2278.68 4066.5 2296.17L4066.5 2422.83C4066.5 2440.32 4052.32 2454.5 4034.83 2454.5L689.167 2454.5C671.678 2454.5 657.5 2440.32 657.5 2422.83Z" stroke="#0000FF" stroke-width="4.58333" stroke-miterlimit="8" fill="none" fill-rule="evenodd"/><text fill="#0000FF" font-family="MS Gothic,MS Gothic_MSFontService,sans-serif" font-weight="400" font-size="73" transform="matrix(1 0 0 1 732.032 2387)">Expected</text><path d="M1193.5 2273.5 2113.5 2273.5 2113.5 2393.5 2089.5 2417.5 1193.5 2417.5Z" fill="#FFE699" fill-rule="evenodd"/><path d="M2089.5 2417.5 2094.3 2398.3 2113.5 2393.5Z" fill="#CDB97B" fill-rule="evenodd"/><path d="M2089.5 2417.5 2094.3 2398.3 2113.5 2393.5 2089.5 2417.5 1193.5 2417.5 1193.5 2273.5 2113.5 2273.5 2113.5 2393.5" stroke="#172C51" stroke-width="4.58333" stroke-miterlimit="8" fill="none" fill-rule="evenodd"/><text font-family="MS Gothic,MS Gothic_MSFontService,sans-serif" font-weight="400" font-size="55" transform="matrix(1 0 0 1 1295.58 2324)">Resend the packet with the </text><text font-family="MS Gothic,MS Gothic_MSFontService,sans-serif" font-weight="400" font-size="55" transform="matrix(1 0 0 1 1405.58 2385)">original </text><text font-family="MS Gothic,MS Gothic_MSFontService,sans-serif" font-weight="400" font-size="55" transform="matrix(1 0 0 1 1653.08 2385)">TopicName</text></g></svg>